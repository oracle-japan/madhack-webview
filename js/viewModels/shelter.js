"use strict";define(["knockout","omhHelper","mapHelper","ojs/ojlogger","ojs/ojknockout"],function(e,t,n,r){return function(o){const s=this,i=o.parentRouter.observableModuleConfig().params.ojRouter.parameters;s.name=e.observable(),s.address=e.observable(),s.tel=e.observable(),s.connected=function(){const e=i.latlng().substring(0,i.latlng().indexOf(","))/1,o=i.latlng().substring(i.latlng().indexOf(",")+1)/1,l=n.initMap("map",e,o),a=n.initDirectionsService(),u=n.initDirectionsRenderer();u.setMap(l),t.getShelterInfo(i.shelterName(),i.latlng()).then(function(e){s.name(e.shelter.name),s.address(e.shelter.address),s.tel(e.shelter.tel);const t=n.buildRouteRequest(e.route.origin,e.route.destination);a.route(t,function(e){u.setDirections(e)})},function(e,t,n){r.error("Error: "+t),r.error(n)})}}});